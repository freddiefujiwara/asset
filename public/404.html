<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asset Visualizer</title>
    <script>
      // GitHub Pages SPA fallback.
      // Keep /asset and pass the requested path to index.html via query string.
      const pathSegmentsToKeep = 1;
      const { pathname, search, hash, protocol, hostname, port } = window.location;
      const redirectPath = pathname
        .split("/")
        .slice(1 + pathSegmentsToKeep)
        .map((segment) => segment.replace(/~/g, "~0").replace(/\./g, "~1"))
        .join("/");

      const keptPath = pathname.split("/").slice(0, 1 + pathSegmentsToKeep).join("/");
      const query = search ? `&${search.slice(1).replace(/&/g, "~and~")}` : "";
      const redirectUrl = `${protocol}//${hostname}${port ? `:${port}` : ""}${keptPath}/?/${redirectPath}${query}${hash}`;
      window.location.replace(redirectUrl);
    </script>
  </head>
  <body></body>
</html>
